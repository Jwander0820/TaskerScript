下面是依你的 Tasker 專案 `Game.prj.xml` 解析後整理出的 README（給一般使用者能直接照做）。本文中的功能、任務名稱與變數皆取自你實際的匯出內容。

---

# 蔚藍檔案（Blue Archive）定時「摸頭」提醒 — Tasker 專案

## 功能總覽

* **固定時段建立下一次提醒**

  * 上午排程：`06:30` 起、每 **3 小時** 重複一次
  * 下午排程：`15:00` 固定建立下一次提醒
    以上由兩個 Profile 觸發 `蔚藍檔案摸頭通知_初始` 任務，產生「下次摸頭時間」通知。
* **到點震動 + 常駐通知倒數**

  * 到達「下次摸頭時間」時，以震動與通知提示（任務：`摸頭時間提醒`）。
* **看到「蔚藍檔案」通知時，自動啟動遊戲**（可關）

  * 監聽通知文字含「蔚藍檔案」→ 執行任務 `檔案 啟動！` 開啟遊戲 App，並重新計時下一次提醒。
* **手動校正下一次時間**

  * 內建一個 Scene「文字輸入」，可手動輸入目前實際「摸頭」時間，系統會依間隔自動推算下次時間（任務：`校正摸頭時間(根據手動設定時間)`）。
* **跨夜處理**

  * 若計算結果在 `24~26` 時之間，會自動轉成 `00~02`（任務：`下次摸頭時間轉換(特數值轉換)`）。

---

## 專案結構（重點任務 / Profile）

* **Profiles**

  * `上午定時摸頭通知`：06:30 起、每 3 小時觸發 `蔚藍檔案摸頭通知_初始`。
  * `下午定時摸頭通知`：15:00 觸發 `蔚藍檔案摸頭通知_初始`。
  * `摸頭提醒(震動+閃光)`：在 `%BANextTouchTime` 到點時觸發 `摸頭時間提醒`。
  * `蔚藍檔案通知觸發開啟程式`：通知含「蔚藍檔案」時觸發 `檔案 啟動！`。
* **Tasks（節錄）**

  * `蔚藍檔案摸頭通知_初始`：建立 `%BANextTouchTime` / `%BANextTouchRealTime`，並發通知顯示「下次摸頭時間」。
  * `摸頭時間提醒`：震動、顯示提醒，並可設定常駐通知倒數。
  * `檔案 啟動！`：計算與檢查間隔、必要時更新「下次摸頭時間」，可直接開啟遊戲。
  * `當前摸頭時間轉換` / `下次摸頭時間轉換(根據當前時間計算)` / `下次摸頭時間轉換(特數值轉換)`：將「HH.MM」與「HH\:MM」相互轉換、處理跨夜。
  * `校正摸頭時間(根據當前時間)`、`校正摸頭時間(根據手動設定時間)`：依目前或手動輸入時間重算下一次提醒。

---

## 使用方法（最簡流程）

* **等排程自動建立提醒**：

  * 06:30 起每 3 小時、以及 15:00，會自動生成下一次「摸頭」時間通知。
* **到點震動提示**：

  * 當時間到達 `%BANextTouchTime`，裝置會震動與顯示提醒。
* **手動校正**（例如你提早/延後摸頭）：

  1. 執行任務 `校正摸頭時間(根據當前時間)`（當下時間為準），或
  2. 執行任務 `校正摸頭時間(根據手動設定時間)` → 會彈出 Scene「文字輸入」，輸入 `HH` 或 `HH.MM` 形式（如 `7` 或 `07.30`），系統自動重算下一次時間並顯示。

---

## 可調整參數 / 變數

> 下列變數均已在任務流程中使用，通常不需手動建立。

* **`%IntervalTime`**：小時間隔（預設 3）。被 `下次摸頭時間轉換(根據當前時間計算)` 用來做「當前小時 + 間隔」。

  * 如需改為 4 小時，請在相關任務中將引用的 `%IntervalTime` 調整為 `4`，或新增一個「全域變數」事先賦值。
* **`%BANextTouchTime` / `%BANextTouchRealTime`**：下一次提醒的「內部時間（HH.MM）」與「顯示時間（HH\:MM）」。
* **`%BATouchTime`**：最近一次實際摸頭的時間（HH.MM）。
* **色彩變數**（僅影響通知/Scene 外觀）：`%ColorText`、`%BackgroundColor`、`%ColorUIPurple` 等。

---

## 常見問題（FAQ）

* **Q1：上午/下午的固定時點要改怎麼做？**
  A：直接在 Profiles `上午定時摸頭通知`（06:30）與 `下午定時摸頭通知`（15:00）中調整觸發時間；如需改變「每幾小時一次」，調整該 Profile 的「重複」間隔（目前為每 3 小時）。
* **Q2：我不想自動開啟遊戲 App。**
  A：停用 Profile `蔚藍檔案通知觸發開啟程式`，或在任務 `檔案 啟動！` 中移除「啟動應用程式」那一步。
* **Q3：跨夜時間顯示成 24\:xx / 25\:xx？**
  A：已內建特數值轉換，會自動把 24/25/26 改成 00/01/02；若你改動過任務順序，請保留 `下次摸頭時間轉換(特數值轉換)` 這一步在組合字串之前。
* **Q4：手動輸入時間格式？**
  A：支援整點（如 `7` 或 `07`）與「HH.MM」（如 `07.30`）。任務會拆分並轉成 `HH:MM` 顯示，再依 `%IntervalTime` 推算下一次。

